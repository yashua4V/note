nginx 依赖包
gcc openssl-devel pcer-devel
nginx 安装模块
  --with-http_ssl_module
  --with-stream
  --with-http_stub_status_module
  --    
nginx 用户认证
     server {
              ... ...
              auth_basic "input password";
              auth_basic "/usr/local/nginx/pass";
              ... ...
            }
     生成密码文件，创建用户及密码
     yum -y install httpd-tools
     htpasswd -c /usr/local/nginx/pass tom
     htpasswd /usr/local/nginx/pass jerry
     重启服务加载配置
nginx 基于域名的虚拟主机
     server {
          ... ...
          server_name www.a.com;
          location / {
                       root html;
                       index index.html index.htm;
                  }
       }
       ... ...
      server {
          ... ...
          server_name www.b.com;
          location / {
                        root www;
                        index index.html index.php index.htm;
                   }
         }
nginx 基于端口的虚拟主机
       server {
                   listen 8080;
                   server_name web1.example.com;
                   ... ...
         }
       server {
                    listen 8000;
                    server_name web1.example.com;
                   ... ...
          }
nginx 基于IP的虚拟主机 
         server {
               listen 192.168.0.1:80;
               server_name web1.example.com;
           ... ...
         }
            server {
                 listen 192.168.0.2:80;
                 server_name web1.example.com;
           ... ...
         }
nginx SSL虚拟主机
      cd /usr/local/nginx/conf
      openssl genrsa  >  cert.key                     //生成私钥
      openssl req -new -x509 -key cert.key > cert.pem //生成证书
      vim /usr/local/nginx/conf/nginx.conf
             server {
                      listen 443 ssl;
                      server_name  www.c.com;
                      ssl_certificate cert.pem;
                      ssl_certificate_key cert.key;
                      
                      ssl_session_cache    shared:SSL:1m;
                      ssl_session_timeout  5m;
                      
                      ssl_ciphersHIGH:!aNULL:!MD5;
                      ssl_prefer_server_ciphers on;
                      
                      ... ...
                     }
    LNMP环境
      L-------linux系统
      N-------NGINX WEB服务
      M-------Mariadb 数据库
      P-------PHP PHP 平台
        一，安装软件
          基础依赖包
         gcc openssl-devel pcredevel zlib-devel
          源码安装NGINX
         ./configure --user=nginx --group=nginx  \  //指定启动服务的用户与组
        > --with-http_ssl_module  //添加SSL加密模块
          安装MariaDB
         yum -y install mariadb mariadb-server mariadb-devel
          PHP和PHP-fpm
          yum -y install php php-mysql php-fpm-5.4.16-42.el7.x86_64.rpm
        二，启动服务
        三，php-fpm配置文件
        vim /etc/php-fpm.d/www.conf
        [www]
        listen = 127.0.0.1:9000 //PHP端口号
        pm.max_children = 32 //最大进程数量
        pm.start_servers = 15 //最小进程数量
        pm.min_spare_servers = 5 //最少需要几个空闲着的进程
        pm.max_spare_servers = 32 //最多允许几个进程处于空闲状态
        
